<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content=""/>
    <meta name="author" content=""/>

    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="rapidoid.min.js"></script>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">

    <link href="docs.css" type="text/css" rel="stylesheet"/>
    <link href="rapidoid.min.css" type="text/css" rel="stylesheet"/>
    <link href="theme-default.css" type="text/css" rel="stylesheet"/>

    <title>Rapidoid Http-fast</title>

    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    <script src="//platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>

</head>


<body class="rapidoid">

<nav role="navigation" class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button data-target="#collapsable" class="navbar-toggle collapsed" data-toggle="collapse" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Rapidoid</a>
        </div>
        <div id="collapsable" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-left">
                <li class="active"><a href="/">Getting started</a></li>
                <li><a rel="nofollow" href="community.html">Community &amp; Support</a></li>
                <li><a rel="nofollow" href="https://github.com/rapidoid/rapidoid">Source on GitHub</a></li>
            </ul>

            <div class="navbar-brand navbar-right">
                <a rel="nofollow" data-count-api="/repos/rapidoid/rapidoid#stargazers_count"
                   data-count-href="/rapidoid/rapidoid/stargazers" data-icon="octicon-star"
                   href="https://github.com/rapidoid/rapidoid" class="github-button">Star</a>
                <a rel="nofollow" data-count-api="/repos/rapidoid/rapidoid#forks_count"
                   data-count-href="/rapidoid/rapidoid/network" data-icon="octicon-git-branch"
                   href="https://github.com/rapidoid/rapidoid/fork" class="github-button">Fork</a>

                <script type="IN/Share" data-url="http://www.rapidoid.org/" data-counter="right"></script>

                <span class="g-plusone" data-size="medium"></span>

                <a rel="nofollow" href="https://twitter.com/share" rel="nofollow"
                   class="twitter-share-button navbar-btn" data-url="http://www.rapidoid.org" data-text="Released #Rapidoid v&quot; + version() + &quot; - Extremely Fast, Simple and Powerful Java Web Framework!"
                   data-size="small">Tweet</a>
            </div>
        </div>
    </div>
</nav>


<div class="container">

<div class="row">
    <div class="col-md-12">
        <h2>Extremely Fast, Simple and Powerful Java Web Framework!</h2>
    </div>
</div>



<div class="row">
    <div class="col-md-8 col-sm-12">
        <p>
            <b><a rel="nofollow" href="https://github.com/rapidoid/rapidoid">Open source</a> (Apache license). <a
                    rel="nofollow"
                    href="https://www.techempower.com/benchmarks/#section=data-r11&hw=peak&test=plaintext">View
                benchmark...</a></b>
            <span id="group-email">Community: <a
                    href="mailto:rapidoid@googlegroups.com">rapidoid@googlegroups.com</a></span>
        </p>
    </div>

    <div class="col-md-4 col-sm-12">
        <!-- Begin MailChimp Signup Form -->
<div id="mc_embed_signup" class="pull-right">
    <form action="http://rapidobest.us3.list-manage.com/subscribe/post?u=c2c27aa25fdef31d9513d6124&amp;id=08cd6ec699" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate form-inline" target="_blank" novalidate>

        <div class="mc-field-group">
            <input type="email" value="" name="EMAIL" class="required email form-control input-sm" id="mce-EMAIL" placeholder="Your e-mail address"> <input type="submit" value="Subscribe to newsletter" name="subscribe" id="mc-embedded-subscribe" class="button btn btn-primary btn-sm">
        </div>
        <div id="mce-responses" class="clear">
            <div class="response" id="mce-error-response" style="display: none"></div>
            <div class="response" id="mce-success-response" style="display: none"></div>
        </div>
        <div style="position: absolute; left: -5000px;">
            <input type="text" name="b_c2c27aa25fdef31d9513d6124_08cd6ec699" value="">
        </div>
        <div class="clear"></div>
    </form>
</div>
<!--End mc_embed_signup-->

    </div>
</div>

<div class="row row-separated-nano">
    <div class="col-md-8">

        <div class="module-desc">
            Rapidoid consists of several modules which can be used separately or together:
            <ul>
                <li>
                    <a href="http-fast.html">rapidoid-http-fast</a> - <span class="module-about">Very Fast Web Server</span>
                    <span class="pull-right module-about-right">JDK 6 - 8</span>
                </li>
                <li>
                    <a href="gui.html">rapidoid-gui</a> - <span class="module-about">Web GUI Components (Bootstrap-based)</span>
                    <span class="pull-right module-about-right">JDK 6 - 8</span>
                </li>
                <li>
                    <a href="web.html">rapidoid-web</a> - <span class="module-about">High-level POJO Web Framework</span>
                    <span class="pull-right module-about-right">JDK 6 - 8</span>
                </li>
                <li>
                    <a href="fluent.html">rapidoid-fluent</a> - <span class="module-about">Fluent API for Elegant Stream Manipulation</span>
                    <span class="pull-right module-about-right">JDK 8</span>
                </li>
                <li>
                    <a href="u.html">rapidoid-u</a> - <span class="module-about">Simple &amp; Sweet Utils</span>
                    <span class="pull-right module-about-right">JDK 6 - 8</span>
                </li>
            </ul>
        </div>
    </div>

    <div class="col-md-4">
        <div class="eg_title">Add <b>rapidoid-http-fast</b> as Maven dependency:</div>
<pre class="maven-code">
&lt;<span class="_code_tag">dependency</span>&gt;
    &lt;<span class="_code_tag">groupId</span>&gt;org.rapidoid&lt;/<span class="_code_tag">groupId</span>&gt;
    &lt;<span class="_code_tag">artifactId</span>&gt;rapidoid-http-fast&lt;/<span class="_code_tag">artifactId</span>&gt;
    &lt;<span class="_code_tag">version</span>&gt;5.0.11&lt;/<span class="_code_tag">version</span>&gt;
&lt;/<span class="_code_tag">dependency</span>&gt;
</pre>

    </div>

</div>

<div class="row row-separated-nano">
    <div class="col-md-12">
        <div class="module-header">
            Module <span class="module-name">rapidoid-http-fast</span> - Very Fast Web Server
        </div>
        <h5><b></b></h5>


        <div class="module-explanation">
            The low-level HTTP API provides access to the <a rel="nofollow" href="https://www.techempower.com/benchmarks/#section=data-r11&hw=peak&test=plaintext">extremely fast</a> Rapidoid HTTP server implemented from scratch on top of Java NIO. 

<h4>This is <a rel="nofollow" href="https://www.techempower.com/benchmarks/#section=data-r11&hw=peak&test=plaintext">one of the fastest</a> web servers in the world! (based on the transparent Techempower benchmarks)</h4>
        </div>
    </div>
</div>



<div class="row">
  
<div class="col-md-10">
<!-- EXAMPLE httpsimple -->

<div id="restful-service-one-liner" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">1</span>
            
            RESTful service one-liner
            
        </div>
    </div>
</div>

<div id="examplehttpsimple-extra" class="row">
    <div class="col-md-12">
	<div class="docs">
		<p>
			Running this <b>single line of code</b> will start a web server
			embedded in your application.
		</p>
		<p>
			By default, the server listens on port <span class="text-box">8888</span>
			and address <span class="text-box">0.0.0.0</span> (matching any IP
			address).
		</p>
		<p>
			Navigating to <span class="text-box"><a
				href="http://localhost:8888/size?msg=abc">http://localhost:8888/size?msg=abc</a></span>
			will return <span class="text-box">3</span>.
		</p>
	</div>
</div>
</div>

<div id="examplehttpsimple-body" class="row">

    <div id="examplehttpsimple-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpsimple-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">On <span class="text-box">GET /size</span> return the length of the "msg" parameter:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/size"</span>)<span class="_code_api">.json</span>(<span class="_code_str">"msg"</span>, msg <span class="_code_lambda">-&gt;</span> msg.length());</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpsimple-right" class="col-md-4">
        <div id="examplehttpsimple-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/size?msg=abc</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpsimple RESULT STARTS HERE -->
                3
                <!-- EXAMPLE#httpsimple RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpsimplegui -->

<div id="web-page-one-liner" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">2</span>
            
            Web page one-liner
            
        </div>
    </div>
</div>


<div id="examplehttpsimplegui-body" class="row">

    <div id="examplehttpsimplegui-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpsimplegui-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">On <span class="text-box">GET /hi</span> or <span class="text-box">POST /hi</span> return a "Hello World" web page:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.page</span>(<span class="_code_str">"/hi"</span>)<span class="_code_api">.gui</span>(<span class="_code_str">"Hello &lt;b&gt;world&lt;/b&gt;!"</span>);</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpsimplegui-right" class="col-md-4">
        <div id="examplehttpsimplegui-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/hi</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpsimplegui RESULT STARTS HERE -->
                Hello <b>world</b>!
                <!-- EXAMPLE#httpsimplegui RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpcustom -->

<div id="more-control-over-the-http-server-setup" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">3</span>
            
            More control over the HTTP server setup
            
        </div>
    </div>
</div>


<div id="examplehttpcustom-body" class="row">

    <div id="examplehttpcustom-left" class="col-md-12">

        <!-- START CODE -->
        <div id="examplehttpcustom-code" class="code-clean">
            <div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.address</span>(<span class="_code_str">"127.0.0.1"</span>)<span class="_code_api">.port</span>(<span class="_code_num">9999</span>);</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/x"</span>)<span class="_code_api">.json</span>(<span class="_code_str">"x"</span>); <span class="_code_linecomm">// continue with normal setup</span></div>

        </div>
        <!-- END CODE -->

    </div>

</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httproute -->

<div id="http-handlers-and-routing" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">4</span>
            
            HTTP handlers and routing
            
        </div>
    </div>
</div>

<div id="examplehttproute-extra" class="row">
    <div class="col-md-12">
	<div class="docs">
		<p>A web application can be defined as a collection of HTTP
			request handlers. The HTTP requests are routed to the appropriate
			handler, based on the combination of:</p>
		<ul>
			<li>the <b>request verb</b> (GET, POST, PUT, DELETE, PATCH,
				OPTIONS, HEAD, TRACE)
			</li>
			<li>and the <b>request path</b> (<i>e.g. /books/123, /users,
					/</i>)
			</li>
		</ul>
	</div>
</div>
</div>

<div id="examplehttproute-body" class="row">

    <div id="examplehttproute-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttproute-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">Request handlers should match both the verb and the path:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/"</span>)<span class="_code_api">.json</span>(<span class="_code_str">"Hi!"</span>);</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/x"</span>)<span class="_code_api">.html</span>(<span class="_code_str">"Getting X"</span>);</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.post</span>(<span class="_code_str">"/x"</span>)<span class="_code_api">.json</span>(req <span class="_code_lambda">-&gt;</span> <span class="_code_str">"Posting X"</span>);</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.delete</span>(<span class="_code_str">"/x"</span>)<span class="_code_api">.html</span>(req <span class="_code_lambda">-&gt;</span> <span class="_code_str">"&lt;b&gt;Deleting X&lt;/b&gt;"</span>);</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttproute-right" class="col-md-4">
        <div id="examplehttproute-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httproute RESULT STARTS HERE -->
                Hi!
                <!-- EXAMPLE#httproute RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/x</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httproute RESULT STARTS HERE -->
                Getting X
                <!-- EXAMPLE#httproute RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-POST eg-verb">POST</span> <span class="badge eg-uri">/x</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httproute RESULT STARTS HERE -->
                "Posting X"
                <!-- EXAMPLE#httproute RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-DELETE eg-verb">DELETE</span> <span class="badge eg-uri">/x</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httproute RESULT STARTS HERE -->
                <b>Deleting X</b>
                <!-- EXAMPLE#httproute RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpreq1 -->

<div id="all-the-request-data-is-in-the-req-req-parameter" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">5</span>
            
            All the request data is in the (Req req) parameter
            
        </div>
    </div>
</div>


<div id="examplehttpreq1-body" class="row">

    <div id="examplehttpreq1-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpreq1-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">Retrieving request info from the Req parameter:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/showVerb"</span>)<span class="_code_api">.json</span>(req <span class="_code_lambda">-&gt;</span> req<span class="_code_api">.verb</span>());</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/showPath"</span>)<span class="_code_api">.json</span>(req <span class="_code_lambda">-&gt;</span> req<span class="_code_api">.path</span>());</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/showUri"</span>)<span class="_code_api">.json</span>(req <span class="_code_lambda">-&gt;</span> req<span class="_code_api">.uri</span>());</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/showData"</span>)<span class="_code_api">.json</span>(req <span class="_code_lambda">-&gt;</span> req<span class="_code_api">.data</span>());</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpreq1-right" class="col-md-4">
        <div id="examplehttpreq1-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/showVerb</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpreq1 RESULT STARTS HERE -->
                "GET"
                <!-- EXAMPLE#httpreq1 RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/showPath</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpreq1 RESULT STARTS HERE -->
                "/showPath"
                <!-- EXAMPLE#httpreq1 RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/showUri</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpreq1 RESULT STARTS HERE -->
                "/showUri"
                <!-- EXAMPLE#httpreq1 RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/showData?x=1&amp;y=abc</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpreq1 RESULT STARTS HERE -->
                {"x":"1","y":"abc"}
                <!-- EXAMPLE#httpreq1 RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>

<div id="examplehttpreq1-extra2" class="row">
    <div class="col-md-12">
  <h4>
    <b>Basic Request Info API (in interface Req):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> verb()</pre>
        </td>
        <td>Gets the <b>verb</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> uri()</pre>
        </td>
        <td>Gets the <b>uri</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> path()</pre>
        </td>
        <td>Gets the <b>path</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> query()</pre>
        </td>
        <td>Gets the <b>query</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">byte</span>[] body()</pre>
        </td>
        <td>Gets the <b>raw body data</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; params()</pre>
        </td>
        <td>Gets the <b>URL parameters</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Object</span>&gt; posted()</pre>
        </td>
        <td>Gets the <b>posted parameters</b> of the HTTP request body.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">byte</span>[]&gt; files()</pre>
        </td>
        <td>Gets the <b>posted files</b> from the HTTP request body.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Object</span>&gt; data()</pre>
        </td>
        <td>Gets the <b>data parameters (URL parameters + posted parameters + posted files)</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; headers()</pre>
        </td>
        <td>Gets the <b>headers</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; cookies()</pre>
        </td>
        <td>Gets the <b>cookies</b> of the HTTP request.</td>
      </tr>
    </table>
  </div>
</div>
</div>


<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpresp -->

<div id="rendering-a-http-response" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">6</span>
            
            Rendering a HTTP response
            
        </div>
    </div>
</div>


<div id="examplehttpresp-body" class="row">

    <div id="examplehttpresp-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpresp-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">Returning the request or response object means the response was constructed:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/"</span>)<span class="_code_api">.html</span>(req <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_api">Resp</span> resp = req<span class="_code_api">.response</span>();</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;resp<span class="_code_api">.contentType</span>(<span class="_code_cls">MediaType</span>.<span class="_code_cls">JSON_UTF_8</span>);</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;resp<span class="_code_api">.content</span>(<span class="_code_str">"hello"</span>);</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> resp;</div>
<div class="example-line clearfix">});</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpresp-right" class="col-md-4">
        <div id="examplehttpresp-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpresp RESULT STARTS HERE -->
                "hello"
                <!-- EXAMPLE#httpresp RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>

<div id="examplehttpresp-extra2" class="row">
    <div class="col-md-12">
  <h4>
    <b>Basic Response Construction API (in interface Resp):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> content(<span class="_code_cls">Object</span> content)</pre>
        </td>
        <td>Sets the <b>content</b> to be serialized into a body when the HTTP response is rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Object</span> content()</pre>
        </td>
        <td>Gets the <b>content</b> to be serialized into a body when the HTTP response is rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> body(<span class="_code_cls">byte</span>[] body)</pre>
        </td>
        <td>Sets the <b>HTTP response body</b> from a <b><code>byte[]</code></b> data that is written as a HTTP response body when rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> body(<span class="_code_cls">ByteBuffer</span> body)</pre>
        </td>
        <td>Sets the <b>HTTP response body</b> from a <b><code>ByteBuffer</code></b> data that is written as a HTTP response body when rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Object</span> body()</pre>
        </td>
        <td>Gets the <b>HTTP response body</b> data (of type byte[] or ByteBuffer) that is written as a HTTP response body when rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> code(<span class="_code_cls">int</span> code)</pre>
        </td>
        <td>Sets the <b>status code</b> <i>(e.g. 200, 404, 500)</i> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">int</span> code()</pre>
        </td>
        <td>Gets the <b>status code</b> <i>(e.g. 200, 404, 500)</i> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> contentType(<span class="_code_cls">MediaType</span> contentType)</pre>
        </td>
        <td>Sets the <b><code>Content-Type</code> header</b> to be rendered in the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">MediaType</span> contentType()</pre>
        </td>
        <td>Gets the <b><code>Content-Type</code> header</b> to be rendered in the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; headers()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>headers</b> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; cookies()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>cookies</b> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> html(<span class="_code_cls">Object</span> content)</pre>
        </td>
        <td>Sets the <b><code>Content-Type: text/html; charset=utf-8</code> header and the content</b> of the HTTP response. <br>
 <i>Alias</i> to <code>contentType(MediaType.HTML_UTF_8).body(content)</code>.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> json(<span class="_code_cls">Object</span> content)</pre>
        </td>
        <td>Sets the <b><code>Content-Type: application/json; charset=utf-8</code> header and the content</b> of the HTTP
 response. <br>
 <i>Alias</i> to <code>contentType(MediaType.JSON_UTF_8).body(content)</code>.</td>
      </tr>
    </table>
  </div>
</div>
</div>


<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE pojoController -->

<div id="high-level-annotation-based-pojo-controllers" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">7</span>
            
            High-level annotation-based POJO controllers
            
        </div>
    </div>
</div>

<div id="examplepojoController-extra" class="row">
    <div class="col-md-12">
  <div class="docs">Any object can be a POJO
 controller.<br>
 Just annotate the request handler methods with: <b>@GET</b>, <b>@POST</b>
 , <b>@PUT</b>, <b>@DELETE</b> etc.</div>
</div>
</div>

<div id="examplepojoController-body" class="row">

    <div id="examplepojoController-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplepojoController-code" class="code-clean">
            <div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.req</span>(<span class="_code_kw">new</span> <span class="_code_cls">Object</span>() {</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_ann">@GET</span></div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">public</span> <span class="_code_cls">String</span> upper(<span class="_code_ann">@Param</span>(<span class="_code_str">"s"</span>) <span class="_code_cls">String</span> s) {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> s.toUpperCase();</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;}</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_ann">@POST</span></div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">public</span> <span class="_code_cls">String</span> lower(<span class="_code_api">Req</span> req, <span class="_code_api">Resp</span> resp, <span class="_code_ann">@Param</span>(<span class="_code_str">"x"</span>) <span class="_code_cls">String</span> s) {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> s.toLowerCase();</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;}</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix">});</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplepojoController-right" class="col-md-4">
        <div id="examplepojoController-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/upper?s=abc</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#pojoController RESULT STARTS HERE -->
                "ABC"
                <!-- EXAMPLE#pojoController RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-POST eg-verb">POST</span> <span class="badge eg-uri">/lower?x=HEY</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#pojoController RESULT STARTS HERE -->
                "hey"
                <!-- EXAMPLE#pojoController RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE render -->

<div id="exception-handlers" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">8</span>
            
            Exception handlers
            
        </div>
    </div>
</div>


<div id="examplerender-body" class="row">

    <div id="examplerender-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplerender-code" class="code-clean">
            <div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.error</span>((req, resp, error) <span class="_code_lambda">-&gt;</span> <span class="_code_str">"Error: "</span> + error.getMessage());</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/hi"</span>)<span class="_code_api">.html</span>(req <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">throw</span> <span class="_code_kw">new</span> <span class="_code_cls">RuntimeException</span>(<span class="_code_str">"problem!"</span>);</div>
<div class="example-line clearfix">});</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplerender-right" class="col-md-4">
        <div id="examplerender-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/hi</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#render RESULT STARTS HERE -->
                Error: problem!
                <!-- EXAMPLE#render RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE mvc -->

<div id="mvc-architecture-with-template-engine-of-your-choice-" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">9</span>
            
            MVC architecture (with template engine of your choice)
            
        </div>
    </div>
</div>


<div id="examplemvc-body" class="row">

    <div id="examplemvc-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplemvc-code" class="code-clean">
            <div class="empty-line clearfix">&nbsp;</div>
<div class="comment-line clearfix"><span class="_code_comment">This simple template should be replaced by some template engine:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_cls">String</span> template = <span class="_code_str">"(MODEL=%s, VIEW=%s)"</span>;</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.render</span>((<span class="_code_api">Req</span> req, <span class="_code_api">Resp</span> resp) <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_cls">String</span> info = <span class="_code_cls">String</span>.format(template, resp<span class="_code_api">.model</span>(), resp<span class="_code_api">.view</span>());</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;resp<span class="_code_api">.content</span>(info);</div>
<div class="example-line clearfix">});</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/a"</span>)<span class="_code_api">.html</span>((req, resp) <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> resp<span class="_code_api">.render</span>();</div>
<div class="example-line clearfix">});</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/my/books"</span>)<span class="_code_api">.html</span>((req, resp) <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;resp<span class="_code_api">.model</span>()<span class="_code_api">.put</span>(<span class="_code_str">"x"</span>, <span class="_code_num">12345</span>);</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;resp<span class="_code_api">.render</span>();</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> resp;</div>
<div class="example-line clearfix">});</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="comment-line clearfix"><span class="_code_comment">A custom view name can be assigned:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/xy"</span>)<span class="_code_api">.html</span>((req, resp) <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;resp<span class="_code_api">.view</span>(<span class="_code_str">"my-view"</span>);</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> resp<span class="_code_api">.render</span>();</div>
<div class="example-line clearfix">});</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplemvc-right" class="col-md-4">
        <div id="examplemvc-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/a</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#mvc RESULT STARTS HERE -->
                (MODEL={}, VIEW=a)
                <!-- EXAMPLE#mvc RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/my/books</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#mvc RESULT STARTS HERE -->
                (MODEL={x=12345}, VIEW=my/books)
                <!-- EXAMPLE#mvc RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/xy</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#mvc RESULT STARTS HERE -->
                (MODEL={}, VIEW=my-view)
                <!-- EXAMPLE#mvc RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>

<div id="examplemvc-extra2" class="row">
    <div class="col-md-12">
  <h4>
    <b>MVC Helper API (in interface Resp):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> view(<span class="_code_cls">String</span> viewName)</pre>
        </td>
        <td>Sets a custom name of the <b>view</b> (V from MVC) of the HTTP response. <br>
 The default view name equals <b>the request path without the "/" prefix</b>, except for the "/" path, where the view name is "index". <br>
 E.g. "/abc" -> "abc", "/" -> index, "/my/books" -> "my/books".</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> view()</pre>
        </td>
        <td>Gets the (default or customized) name of the <b>view</b> (V from MVC) of the HTTP response. <br>
 The default view name equals <b>the request path without the "/" prefix</b>, except for the "/" path, where the view name is "index". <br>
 E.g. "/abc" -> "abc", "/" -> index, "/my/books" -> "my/books".</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Object</span>&gt; model()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>model</b> (M from MVC) that will be rendered by the view renderer.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> render()</pre>
        </td>
        <td>Renders the response in a MVC fashion.<br>
 A custom view renderer must be configured/implemented via the <code>On#render()</code> method.<br>
 A typical renderer will use <code>Resp#view</code> to get the view name, and <code>Resp#model</code> to get the model.</td>
      </tr>
    </table>
  </div>
</div>
</div>


<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpresptype -->

<div id="manipulating-the-response-content-type" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">10</span>
            
            Manipulating the response content type
            
        </div>
    </div>
</div>

<div id="examplehttpresptype-extra" class="row">
    <div class="col-md-12">
	<div class="docs">
		<p>
			The content type of the the HTTP response is automatically set to <span
				class="text-box">application/json</span> for RESTful services, and
			to <span class="text-box">text/html</span> for web pages.
		</p>
		<p>
			However, it's easy to modify it using the <span class="text-box">Resp#contentType</span>
			method:
		</p>
	</div>
</div>

</div>

<div id="examplehttpresptype-body" class="row">

    <div id="examplehttpresptype-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpresptype-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">The response type will be JSON, instead of HTML:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/"</span>)<span class="_code_api">.html</span>(req <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_api">Resp</span> resp = req<span class="_code_api">.response</span>();</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;resp<span class="_code_api">.contentType</span>(<span class="_code_cls">MediaType</span>.<span class="_code_cls">JSON_UTF_8</span>);</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;resp<span class="_code_api">.content</span>(<span class="_code_str">"abc"</span>);</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> resp;</div>
<div class="example-line clearfix">});</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpresptype-right" class="col-md-4">
        <div id="examplehttpresptype-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpresptype RESULT STARTS HERE -->
                "abc"
                <!-- EXAMPLE#httpresptype RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>

<div id="examplehttpresptype-extra2" class="row">
    <div class="col-md-12">
  <h4>
    <b>Response Code API (in interface Resp):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> contentType(<span class="_code_cls">MediaType</span> contentType)</pre>
        </td>
        <td>Sets the <b><code>Content-Type</code> header</b> to be rendered in the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">MediaType</span> contentType()</pre>
        </td>
        <td>Gets the <b><code>Content-Type</code> header</b> to be rendered in the HTTP response.</td>
      </tr>
    </table>
  </div>
</div>
</div>


<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httprespcode -->

<div id="manipulating-the-response-code" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">11</span>
            
            Manipulating the response code
            
        </div>
    </div>
</div>

<div id="examplehttprespcode-extra" class="row">
    <div class="col-md-12">
	<div class="docs">
		<p>
			The HTTP response code is automatically set to <span class="text-box">200</span>
			when the handler executes successfully. In case of redirect, it is
			automatically set to <span class="text-box">303</span>. In case of
			error, it is automatically set to <span class="text-box">500</span>,
			or if a handler was not found for the request, it is set to <span
				class="text-box">404</span>.
		</p>
		<p>
			However, it's easy to modify it using the <span class="text-box">Resp#code</span>
			method:
		</p>
	</div>
</div>

</div>

<div id="examplehttprespcode-body" class="row">

    <div id="examplehttprespcode-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttprespcode-code" class="code-clean">
            <div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/"</span>)<span class="_code_api">.html</span>(req <span class="_code_lambda">-&gt;</span> req<span class="_code_api">.response</span>()<span class="_code_api">.content</span>(<span class="_code_str">""</span>)<span class="_code_api">.code</span>(<span class="_code_num">404</span>));</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttprespcode-right" class="col-md-4">
        <div id="examplehttprespcode-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/</span>
            </div>


            <div class="eg-error">
                <!-- EXAMPLE#httprespcode ERROR STARTS HERE -->
                <span class="not-found">404 Not found!</span>
                <!-- EXAMPLE#httprespcode ERROR ENDS HERE -->
            </div>
        </div>
    </div>
</div>

<div id="examplehttprespcode-extra2" class="row">
    <div class="col-md-12">
  <h4>
    <b>Response Type API (in interface Resp):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> code(<span class="_code_cls">int</span> code)</pre>
        </td>
        <td>Sets the <b>status code</b> <i>(e.g. 200, 404, 500)</i> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">int</span> code()</pre>
        </td>
        <td>Gets the <b>status code</b> <i>(e.g. 200, 404, 500)</i> of the HTTP response.</td>
      </tr>
    </table>
  </div>
</div>
</div>


<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpsession -->

<div id="http-session" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">12</span>
            
            HTTP session
            
        </div>
    </div>
</div>

<div id="examplehttpsession-extra" class="row">
    <div class="col-md-12">
	<div class="docs">
		<p>A HTTP session is a temporary data storage that spans multiple
			HTTP requests. Data stored in the session can be accessed later, when
			handling another HTTP request from the same user (and browsing
			session).</p>
		<p>
			<b>There are 2 different implementations of the session:
				server-side and cookie-persisted.</b>
		</p>
	</div>
</div>
</div>

<div id="examplehttpsession-body" class="row">

    <div id="examplehttpsession-left" class="col-md-12">
    </div>

</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpsessionmem -->

<div id="server-side-session-a-k-a-session-" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">13</span>
            
            Server-side session (a.k.a. Session)
            
        </div>
    </div>
</div>

<div id="examplehttpsessionmem-extra" class="row">
    <div class="col-md-12">
	<div class="docs">
		<p>The server-side session is a simple in-memory storage in the
			web server. While this is not a problem when running only one web
			server, scaling out is non-trivial, requiring sticky sessions or
			replicating the session, or storing it into some datastore.</p>
	</div>
</div>
</div>

<div id="examplehttpsessionmem-body" class="row">

    <div id="examplehttpsessionmem-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpsessionmem-code" class="code-clean">
            <div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.req</span>(req <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">int</span> counter = req<span class="_code_api">.session</span>(<span class="_code_str">"n"</span>, <span class="_code_num">0</span>) + <span class="_code_num">1</span>;</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;req<span class="_code_api">.session</span>()<span class="_code_api">.put</span>(<span class="_code_str">"n"</span>, counter);</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> counter;</div>
<div class="example-line clearfix">});</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpsessionmem-right" class="col-md-4">
        <div id="examplehttpsessionmem-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/first</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpsessionmem RESULT STARTS HERE -->
                1
                <!-- EXAMPLE#httpsessionmem RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/second</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpsessionmem RESULT STARTS HERE -->
                2
                <!-- EXAMPLE#httpsessionmem RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/third</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpsessionmem RESULT STARTS HERE -->
                3
                <!-- EXAMPLE#httpsessionmem RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>

<div id="examplehttpsessionmem-extra2" class="row">
    <div class="col-md-12">
  <h4>
    <b>Server-side Session API (in interface Req):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> sessionId()</pre>
        </td>
        <td>Returns the ID of the session (the value of the <b>"JSESSIONID" cookie</b>). If a session doesn't exist, a new
 session is created.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">boolean</span> hasSession()</pre>
        </td>
        <td>Does the HTTP request have a server-side session attached?</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Serializable</span>&gt; session()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>server-side session attributes</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T session(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of the specified <b>server-side session attribute</b> from the HTTP request, or throws a
 runtime exception if it is not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T session(<span class="_code_cls">String</span> name, T defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>server-side session attribute</b> from the HTTP request, or the specified
 default value, if it is not found.</td>
      </tr>
    </table>
  </div>
</div>
</div>


<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpcookiepack -->

<div id="cookie-persisted-session-a-k-a-cookiepack-" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">14</span>
            
            Cookie-persisted session (a.k.a. Cookiepack)
            
        </div>
    </div>
</div>

<div id="examplehttpcookiepack-extra" class="row">
    <div class="col-md-12">
	<div class="docs">
		<p>The Cookiepack session is not stored by the server. Instead, it
			is being serialized and sent to the web browser as a cookie. For the
			web browser this is just a normal cookie, so it sends the cookie to
			the server attached to the subsequent HTTP requests.</p>

		<p>
			This approach allows to have stateless web servers, improving the
			scalability of the web application. The main drawback is that the
			Cookiepack size is very limited. Each browser has different limit for
			the size of the cookies, but the safest limit is <span
				class="text-box">4 KB</span>.
		</p>

		<p>The session cookie is encrypted with the application secret
			key. Thus, the user cant read or modify the Cookiepack data in a
			malicious way.</p>

		<p>Since the Cookiepack session is stored in the HTTP client
			(typically the web browser), it doesn't have a timeout. But, it will
			expire when the browser is closed.</p>

	</div>
</div>
</div>

<div id="examplehttpcookiepack-body" class="row">

    <div id="examplehttpcookiepack-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpcookiepack-code" class="code-clean">
            <div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.req</span>(req <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">int</span> counter = req<span class="_code_api">.cookiepack</span>(<span class="_code_str">"n"</span>, <span class="_code_num">0</span>) + <span class="_code_num">1</span>;</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;req<span class="_code_api">.cookiepack</span>()<span class="_code_api">.put</span>(<span class="_code_str">"n"</span>, counter);</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> counter;</div>
<div class="example-line clearfix">});</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpcookiepack-right" class="col-md-4">
        <div id="examplehttpcookiepack-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/a</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpcookiepack RESULT STARTS HERE -->
                1
                <!-- EXAMPLE#httpcookiepack RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/b</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpcookiepack RESULT STARTS HERE -->
                2
                <!-- EXAMPLE#httpcookiepack RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/c</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpcookiepack RESULT STARTS HERE -->
                3
                <!-- EXAMPLE#httpcookiepack RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>

<div id="examplehttpcookiepack-extra2" class="row">
    <div class="col-md-12">
  <h4>
    <b>Cookiepack Session API (in interface Req):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">boolean</span> hasCookiepack()</pre>
        </td>
        <td>Does the HTTP request have a cookie-persisted session attached?</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Serializable</span>&gt; cookiepack()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>cookie-persisted session attributes</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T cookiepack(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of the specified <b>cookie-persisted session attribute</b> from the HTTP request, or throws a
 runtime exception if it is not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T cookiepack(<span class="_code_cls">String</span> name, T defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>cookie-persisted session attribute</b> from the HTTP request, or the
 specified default value, if it is not found.</td>
      </tr>
    </table>
  </div>
</div>
</div>


<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpwrap -->

<div id="request-wrappers-interceptors-" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">15</span>
            
            Request wrappers (interceptors)
            
        </div>
    </div>
</div>

<div id="examplehttpwrap-extra" class="row">
    <div class="col-md-6">
    <img class="img-responsive" src="img/handler0.svg" />
</div>
<div class="col-md-6">
    <img class="img-responsive" src="img/handler1.svg" />
</div>

</div>

<div id="examplehttpwrap-body" class="row">

    <div id="examplehttpwrap-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpwrap-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">A wrapper executes before the handler:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.defaultWrap</span>((req, next) <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> next.invoke(result <span class="_code_lambda">-&gt;</span> <span class="_code_str">"Hey: "</span> + result);</div>
<div class="example-line clearfix">});</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="comment-line clearfix"><span class="_code_comment">and provides transformation for the result:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/size"</span>)<span class="_code_api">.json</span>(<span class="_code_str">"s"</span>, s <span class="_code_lambda">-&gt;</span> s.length());</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/upper"</span>)<span class="_code_api">.json</span>(<span class="_code_str">"s"</span>, s <span class="_code_lambda">-&gt;</span> s.toUpperCase());</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpwrap-right" class="col-md-4">
        <div id="examplehttpwrap-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/size?s=abcde</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpwrap RESULT STARTS HERE -->
                "Hey: 5"
                <!-- EXAMPLE#httpwrap RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/upper?s=abc</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpwrap RESULT STARTS HERE -->
                "Hey: ABC"
                <!-- EXAMPLE#httpwrap RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpnotfound -->

<div id="returning-a-not-found-result" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">16</span>
            
            Returning a &quot;Not Found&quot; result
            
        </div>
    </div>
</div>


<div id="examplehttpnotfound-body" class="row">

    <div id="examplehttpnotfound-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpnotfound-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">Returning a <span class="text-box">null</span> means <span class="text-box">NOT FOUND</span>:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/"</span>)<span class="_code_api">.json</span>(req <span class="_code_lambda">-&gt;</span> {</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">return</span> req<span class="_code_api">.params</span>().size() == <span class="_code_num">1</span> ? req<span class="_code_api">.params</span>() : <span class="_code_kw">null</span>;</div>
<div class="example-line clearfix">});</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpnotfound-right" class="col-md-4">
        <div id="examplehttpnotfound-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/</span>
            </div>


            <div class="eg-error">
                <!-- EXAMPLE#httpnotfound ERROR STARTS HERE -->
                <span class="not-found">404 Not found!</span>
                <!-- EXAMPLE#httpnotfound ERROR ENDS HERE -->
            </div>
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/?a=1</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpnotfound RESULT STARTS HERE -->
                {"a":"1"}
                <!-- EXAMPLE#httpnotfound RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/?a=1&amp;b=2</span>
            </div>


            <div class="eg-error">
                <!-- EXAMPLE#httpnotfound ERROR STARTS HERE -->
                <span class="not-found">404 Not found!</span>
                <!-- EXAMPLE#httpnotfound ERROR ENDS HERE -->
            </div>
        </div>
    </div>
</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpgeneric -->

<div id="generic-handlers-match-any-request" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">17</span>
            
            Generic handlers match any request
            
        </div>
    </div>
</div>


<div id="examplehttpgeneric-body" class="row">

    <div id="examplehttpgeneric-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpgeneric-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">Generic handlers match any request (in the declaration order):</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.req</span>(req <span class="_code_lambda">-&gt;</span> req<span class="_code_api">.data</span>()<span class="_code_api">.isEmpty</span>() ? <span class="_code_str">"Simple: "</span> + req<span class="_code_api">.uri</span>() : <span class="_code_kw">null</span>);</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="comment-line clearfix"><span class="_code_comment">The next handler is executed if the previous returns <span class="text-box">NOT FOUND</span>:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.req</span>(req <span class="_code_lambda">-&gt;</span> <span class="_code_api">U</span><span class="_code_api">.list</span>(req<span class="_code_api">.verb</span>(), req<span class="_code_api">.uri</span>(), req<span class="_code_api">.data</span>()));</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpgeneric-right" class="col-md-4">
        <div id="examplehttpgeneric-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/foo</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpgeneric RESULT STARTS HERE -->
                Simple: /foo
                <!-- EXAMPLE#httpgeneric RESULT ENDS HERE -->
            </div>

            <div>
                <span class="badge eg-POST eg-verb">POST</span> <span class="badge eg-uri">/hey?name=Rapidoid</span>
            </div>
            <div class="post-data">
                <span class="label label-default eg-data">BODY: {&quot;cool&quot;:true}</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpgeneric RESULT STARTS HERE -->
                [POST, /hey?name=Rapidoid, {name=Rapidoid, cool=true}]
                <!-- EXAMPLE#httpgeneric RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpasync -->

<div id="asynchronous-request-processing" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">18</span>
            
            Asynchronous request processing
            
        </div>
    </div>
</div>

<div id="examplehttpasync-extra" class="row">
    <div class="col-md-12">
    <img class="img-responsive" src="img/server.svg" />
</div>
</div>

<div id="examplehttpasync-body" class="row">

    <div id="examplehttpasync-left" class="col-md-8">

        <!-- START CODE -->
        <div id="examplehttpasync-code" class="code-clean">
            <div class="comment-line clearfix"><span class="_code_comment">Wait 1 second before returning a response:</span></div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix"><span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/"</span>)<span class="_code_api">.json</span>(req <span class="_code_lambda">-&gt;</span> <span class="_code_api">Jobs</span><span class="_code_api">.schedule</span>(() <span class="_code_lambda">-&gt;</span> {</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;req<span class="_code_api">.response</span>()<span class="_code_api">.content</span>(<span class="_code_str">"OK"</span>)<span class="_code_api">.done</span>();</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix">}, <span class="_code_num">1</span>, <span class="_code_cls">TimeUnit</span>.<span class="_code_cls">SECONDS</span>));</div>

        </div>
        <!-- END CODE -->

    </div>

    <div id="examplehttpasync-right" class="col-md-4">
        <div id="examplehttpasync-results" class="results">
            <div>
                <span class="badge eg-GET eg-verb">GET</span> <span class="badge eg-uri">/</span>
            </div>

            <div class="eg-result">
                <!-- EXAMPLE#httpasync RESULT STARTS HERE -->
                "OK"
                <!-- EXAMPLE#httpasync RESULT ENDS HERE -->
            </div>

        </div>
    </div>
</div>

<div id="examplehttpasync-extra2" class="row">
    <div class="col-md-12">
  <h4>
    <b>Asynchronous Processing API (in interface Req):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> async()</pre>
        </td>
        <td>Informs the HTTP server that the request will be handled asynchronously (typically on another thread). When the
 response is complete, <b>the <code>Req#done()</code> or <code>Resp#done()</code> method must be called</b>, to
 inform the server.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">boolean</span> isAsync()</pre>
        </td>
        <td>Is/was the request being handled in asynchronous mode?</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> done()</pre>
        </td>
        <td>Informs the HTTP server that the asynchronous handling has finished and the response is complete.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">boolean</span> isDone()</pre>
        </td>
        <td>Has the request handling and response construction finished?</td>
      </tr>
    </table>
  </div>
  <h4>
    <b>Asynchronous Processing API (in interface Resp):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> done()</pre>
        </td>
        <td>Informs the HTTP server that the asynchronous handling has finished and the response is complete.<br>
 <i>Alias</i> to <code>request().done()</code>.</td>
      </tr>
    </table>
  </div>
</div>
</div>


<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpargs -->

<div id="server-configuration" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">19</span>
            
            Server Configuration
            
        </div>
    </div>
</div>

<div id="examplehttpargs-extra" class="row">
    <div class="col-md-12">
    <h4>Usage:</h4>
    <h5>java -cp &lt;yourapp&gt;.jar com.yourapp.Main [option1 option2 ...]</h5>
    
    <h4>Example:</h4>
    <h5>java -cp &lt;yourapp&gt;.jar com.yourapp.Main port=9090 address=127.0.0.1 cpus=2 workers=4 nodelay</h5>

    <h3>Configuration options:</h3>

    <table class="table table-striped table-hover">
        <tr>
            <th>Key</th>
            <th>Value</th>
        </tr>
        <tr>
            <td>mode=(dev|production)</td>
            <td>configure <i>dev</i> or <i>production</i> mode (default: <i>production</i> unless debug mode detected)
            </td>
        </tr>
        <tr>
            <td>secret=&lt;SECRET&gt;</td>
            <td>configure app-specific secret token for encryption (default: null)</td>
        </tr>
        <tr>
            <td>port=&lt;P&gt;</td>
            <td>listen at port P (default: 8888)</td>
        </tr>
        <tr>
            <td>address=&lt;ADDR&gt;</td>
            <td>listen at address ADDR (default: 0.0.0.0)</td>
        </tr>
        <tr>
            <td>threads=&lt;T&gt;</td>
            <td>start T threads for the job executor service (default: 100)</td>
        </tr>
        <tr>
            <td>cpus=&lt;C&gt;</td>
            <td>optimize for C number of CPUs (default: the actual number of the CPUs)</td>
        </tr>
        <tr>
            <td>workers=&lt;W&gt;</td>
            <td>start W number of I/O workers (default: the configured number of CPUs - cpus options)</td>
        </tr>
        <tr>
            <td>nodelay</td>
            <td>set the TCP_NODELAY flag to disable Nagle's algorithm (default: false)</td>
        </tr>
        <tr>
            <td>blockingAccept</td>
            <td>accept connection in BLOCKING mode (default: false)</td>
        </tr>
        <tr>
            <td>bufSizeKB=&lt;SIZE&gt;</td>
            <td>TCP socket buffer size in KB (default: 16)</td>
        </tr>
    </table>
</div>

</div>

<div id="examplehttpargs-body" class="row">

    <div id="examplehttpargs-left" class="col-md-12">
        <div id="examplehttpargs-codedesc" class="eg_title">MyApp.java</div>

        <!-- START CODE -->
        <div id="examplehttpargs-code" class="code-clean">
            <div class="example-line clearfix"><span class="_code_kw">public</span> <span class="_code_kw">class</span> <span class="_code_cls">MyApp</span> {</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_kw">public</span> <span class="_code_kw">static</span> <span class="_code_kw">void</span> main(<span class="_code_cls">String</span>[] args) {</div>
<div class="comment-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_comment">Initialize the configuration:</span></div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_api">Conf</span><span class="_code_api">.args</span>(args);</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="_code_api">On</span><span class="_code_api">.get</span>(<span class="_code_str">"/hi"</span>)<span class="_code_api">.json</span>(req <span class="_code_lambda">-&gt;</span> req<span class="_code_api">.data</span>(<span class="_code_str">"name"</span>, <span class="_code_str">"unknown"</span>));</div>
<div class="example-line clearfix">&nbsp;&nbsp;&nbsp;&nbsp;}</div>
<div class="empty-line clearfix">&nbsp;</div>
<div class="example-line clearfix">}</div>

        </div>
        <!-- END CODE -->

    </div>

</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>

<!-- EXAMPLE httpapi -->

<div id="api-documentation" class="row">
    <div class="col-md-12">
        <div class="caption">
            <span class="badge badge-eg-num">20</span>
            
            API documentation
            
        </div>
    </div>
</div>

<div id="examplehttpapi-extra" class="row">
    <div class="col-md-12">
  <h4>
    <b>The HTTP Request and Response API (in interface Req):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td colspan="2"><h5>
  <b>HTTP REQUEST DATA</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> verb()</pre>
        </td>
        <td>Gets the <b>verb</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> verb(<span class="_code_cls">String</span> verb)</pre>
        </td>
        <td>Sets the <b>verb</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> uri()</pre>
        </td>
        <td>Gets the <b>uri</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> uri(<span class="_code_cls">String</span> uri)</pre>
        </td>
        <td>Sets the <b>uri</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> path()</pre>
        </td>
        <td>Gets the <b>path</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> path(<span class="_code_cls">String</span> path)</pre>
        </td>
        <td>Sets the <b>path</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> query()</pre>
        </td>
        <td>Gets the <b>query</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> query(<span class="_code_cls">String</span> query)</pre>
        </td>
        <td>Sets the <b>query</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">byte</span>[] body()</pre>
        </td>
        <td>Gets the <b>raw body data</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> body(<span class="_code_cls">byte</span>[] body)</pre>
        </td>
        <td>Sets the <b>raw body data</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> host()</pre>
        </td>
        <td>Gets the value of the <b>Host header</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> host(<span class="_code_cls">String</span> host)</pre>
        </td>
        <td>Sets the value of the <b>Host header</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> clientIpAddress()</pre>
        </td>
        <td>Gets the <b>IP address</b> of the HTTP client sending the request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">long</span> connectionId()</pre>
        </td>
        <td>Gets the <b>HTTP connection ID</b>, which is unique per HTTP server instance.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">long</span> requestId()</pre>
        </td>
        <td>Gets the <b>HTTP request ID</b>, which is unique per HTTP server instance.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>URL PARAMETERS:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; params()</pre>
        </td>
        <td>Gets the <b>URL parameters</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> param(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of the specified <b>mandatory URL parameter</b> from the HTTP request, or throws a runtime
 exception if it is not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> param(<span class="_code_cls">String</span> name, <span class="_code_cls">String</span> defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>optional URL parameter</b> from the HTTP request, or the specified default
 value, if not found.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>POSTED PARAMETERS IN THE REQUEST BODY:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Object</span>&gt; posted()</pre>
        </td>
        <td>Gets the <b>posted parameters</b> of the HTTP request body.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T posted(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of the specified <b>posted parameter</b> from the HTTP request body, or throws a runtime
 exception if it is not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T posted(<span class="_code_cls">String</span> name, T defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>posted parameter</b> from the HTTP request body, or the specified default
 value, if it is not found.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>POSTED FILES IN THE REQUEST BODY:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">byte</span>[]&gt; files()</pre>
        </td>
        <td>Gets the <b>posted files</b> from the HTTP request body.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">byte</span>[] file(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the content of the <b>posted file</b> from the HTTP request body, or throws a runtime exception if it is
 not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">byte</span>[] file(<span class="_code_cls">String</span> name, <span class="_code_cls">byte</span>[] defaultValue)</pre>
        </td>
        <td>Returns the content of the <b>posted file</b> from the HTTP request body, or the specified default value, if it
 is not found.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>REQUEST DATA PARAMETERS (URL PARAMETERS + POSTED PARAMETERS + POSTED FILES):</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Object</span>&gt; data()</pre>
        </td>
        <td>Gets the <b>data parameters (URL parameters + posted parameters + posted files)</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T data(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of the specified <b>data parameter</b> from the HTTP request, or throws a runtime exception if
 it is not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T data(<span class="_code_cls">String</span> name, T defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>data parameter</b> from the HTTP request, or the specified default value,
 if it is not found.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>EXTRA ATTRIBUTES ATTACHED TO THE REQUEST:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Object</span>&gt; attrs()</pre>
        </td>
        <td>Gets the <b>extra attributes</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T attr(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of an <b>extra attribute</b> from the HTTP request, or throws a runtime exception if it is not
 found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T attr(<span class="_code_cls">String</span> name, T defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>extra attribute</b> from the HTTP request, or the specified default value,
 if it is not found.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>SERVER-SIDE SESSION:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> sessionId()</pre>
        </td>
        <td>Returns the ID of the session (the value of the <b>"JSESSIONID" cookie</b>). If a session doesn't exist, a new
 session is created.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">boolean</span> hasSession()</pre>
        </td>
        <td>Does the HTTP request have a server-side session attached?</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Serializable</span>&gt; session()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>server-side session attributes</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T session(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of the specified <b>server-side session attribute</b> from the HTTP request, or throws a
 runtime exception if it is not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T session(<span class="_code_cls">String</span> name, T defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>server-side session attribute</b> from the HTTP request, or the specified
 default value, if it is not found.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>COOKIE-PERSISTED SESSION:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">boolean</span> hasCookiepack()</pre>
        </td>
        <td>Does the HTTP request have a cookie-persisted session attached?</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Serializable</span>&gt; cookiepack()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>cookie-persisted session attributes</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T cookiepack(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of the specified <b>cookie-persisted session attribute</b> from the HTTP request, or throws a
 runtime exception if it is not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet">T cookiepack(<span class="_code_cls">String</span> name, T defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>cookie-persisted session attribute</b> from the HTTP request, or the
 specified default value, if it is not found.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>REQUEST HEADERS:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; headers()</pre>
        </td>
        <td>Gets the <b>headers</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> header(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of the specified <b>header</b> from the HTTP request, or throws a runtime exception if it is
 not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> header(<span class="_code_cls">String</span> name, <span class="_code_cls">String</span> defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>header</b> from the HTTP request, or the specified default value, if it is
 not found.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>REQUEST COOKIES:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; cookies()</pre>
        </td>
        <td>Gets the <b>cookies</b> of the HTTP request.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> cookie(<span class="_code_cls">String</span> name)</pre>
        </td>
        <td>Returns the value of the specified <b>cookie</b> from the HTTP request, or throws a runtime exception if it is
 not found.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> cookie(<span class="_code_cls">String</span> name, <span class="_code_cls">String</span> defaultValue)</pre>
        </td>
        <td>Returns the value of the specified <b>cookie</b> from the HTTP request, or the specified default value, if it is
 not found.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>RESPONSE:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> response()</pre>
        </td>
        <td>Gets the reference to the <b>response object</b>.</td>
      </tr>
      <tr>
        <td colspan="2"><h5>
  <b>ASYNCHRONOUS REQUEST HANDLING:</b>
</h5></td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> async()</pre>
        </td>
        <td>Informs the HTTP server that the request will be handled asynchronously (typically on another thread). When the
 response is complete, <b>the <code>Req#done()</code> or <code>Resp#done()</code> method must be called</b>, to
 inform the server.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">boolean</span> isAsync()</pre>
        </td>
        <td>Is/was the request being handled in asynchronous mode?</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> done()</pre>
        </td>
        <td>Informs the HTTP server that the asynchronous handling has finished and the response is complete.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">boolean</span> isDone()</pre>
        </td>
        <td>Has the request handling and response construction finished?</td>
      </tr>
    </table>
  </div>
  <h4>
    <b>The HTTP Request and Response API (in interface Resp):</b>
  </h4>
  <div class="api-docs">
    <table class="table table-striped table-hover">
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> content(<span class="_code_cls">Object</span> content)</pre>
        </td>
        <td>Sets the <b>content</b> to be serialized into a body when the HTTP response is rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Object</span> content()</pre>
        </td>
        <td>Gets the <b>content</b> to be serialized into a body when the HTTP response is rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> body(<span class="_code_cls">byte</span>[] body)</pre>
        </td>
        <td>Sets the <b>HTTP response body</b> from a <b><code>byte[]</code></b> data that is written as a HTTP response body when rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> body(<span class="_code_cls">ByteBuffer</span> body)</pre>
        </td>
        <td>Sets the <b>HTTP response body</b> from a <b><code>ByteBuffer</code></b> data that is written as a HTTP response body when rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Object</span> body()</pre>
        </td>
        <td>Gets the <b>HTTP response body</b> data (of type byte[] or ByteBuffer) that is written as a HTTP response body when rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> raw(<span class="_code_cls">byte</span>[] raw)</pre>
        </td>
        <td>Sets the <b>raw HTTP response (headers and body)</b> from a <b><code>byte[]</code></b> data that is written as a HTTP response when rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> raw(<span class="_code_cls">ByteBuffer</span> raw)</pre>
        </td>
        <td>Sets the <b>raw HTTP response (headers and body)</b> from a <b><code>ByteBuffer</code></b> data that is written as a HTTP response when rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Object</span> raw()</pre>
        </td>
        <td>Gets the <b>raw HTTP response (headers and body)</b> data (of type byte[] or ByteBuffer) that is written as a HTTP response when rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> code(<span class="_code_cls">int</span> code)</pre>
        </td>
        <td>Sets the <b>status code</b> <i>(e.g. 200, 404, 500)</i> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">int</span> code()</pre>
        </td>
        <td>Gets the <b>status code</b> <i>(e.g. 200, 404, 500)</i> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> contentType(<span class="_code_cls">MediaType</span> contentType)</pre>
        </td>
        <td>Sets the <b><code>Content-Type</code> header</b> to be rendered in the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">MediaType</span> contentType()</pre>
        </td>
        <td>Gets the <b><code>Content-Type</code> header</b> to be rendered in the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> redirect(<span class="_code_cls">String</span> redirectURI)</pre>
        </td>
        <td>Sets the <b>redirect URI</b> of the HTTP response. <br>
 Setting this will cause a <b>HTTP 30x redirect</b> response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> redirect()</pre>
        </td>
        <td>Gets the <b>redirect URI</b> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> filename(<span class="_code_cls">String</span> filename)</pre>
        </td>
        <td>Sets the <b>filename</b> when serving a file in the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> filename()</pre>
        </td>
        <td>Gets the <b>filename</b> when serving a file in the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> view(<span class="_code_cls">String</span> viewName)</pre>
        </td>
        <td>Sets a custom name of the <b>view</b> (V from MVC) of the HTTP response. <br>
 The default view name equals <b>the request path without the "/" prefix</b>, except for the "/" path, where the view name is "index". <br>
 E.g. "/abc" -> "abc", "/" -> index, "/my/books" -> "my/books".</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">String</span> view()</pre>
        </td>
        <td>Gets the (default or customized) name of the <b>view</b> (V from MVC) of the HTTP response. <br>
 The default view name equals <b>the request path without the "/" prefix</b>, except for the "/" path, where the view name is "index". <br>
 E.g. "/abc" -> "abc", "/" -> index, "/my/books" -> "my/books".</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> file(<span class="_code_cls">File</span> file)</pre>
        </td>
        <td>Sets the <b>file</b> to be served when the HTTP response is rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">File</span> file()</pre>
        </td>
        <td>Gets the <b>file</b> to be served when the HTTP response is rendered.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; headers()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>headers</b> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">String</span>&gt; cookies()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>cookies</b> of the HTTP response.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Map</span>&lt;<span class="_code_cls">String</span>, <span class="_code_cls">Object</span>&gt; model()</pre>
        </td>
        <td>Provides <b>read/write access</b> to the <b>model</b> (M from MVC) that will be rendered by the view renderer.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> done()</pre>
        </td>
        <td>Informs the HTTP server that the asynchronous handling has finished and the response is complete.<br>
 <i>Alias</i> to <code>request().done()</code>.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> plain(<span class="_code_cls">Object</span> content)</pre>
        </td>
        <td>Sets the <b><code>Content-Type: text/plain; charset=utf-8</code> header and the content</b> of the HTTP response. <br>
 <i>Alias</i> to <code>contentType(MediaType.PLAIN_TEXT_UTF_8).body(content)</code>.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> html(<span class="_code_cls">Object</span> content)</pre>
        </td>
        <td>Sets the <b><code>Content-Type: text/html; charset=utf-8</code> header and the content</b> of the HTTP response. <br>
 <i>Alias</i> to <code>contentType(MediaType.HTML_UTF_8).body(content)</code>.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> json(<span class="_code_cls">Object</span> content)</pre>
        </td>
        <td>Sets the <b><code>Content-Type: application/json; charset=utf-8</code> header and the content</b> of the HTTP
 response. <br>
 <i>Alias</i> to <code>contentType(MediaType.JSON_UTF_8).body(content)</code>.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> binary(<span class="_code_cls">Object</span> content)</pre>
        </td>
        <td>Sets the <b><code>Content-Type: application/octet-stream</code> header and the content</b> of the HTTP response. <br>
 <i>Alias</i> to <code>contentType(MediaType.BINARY).body(content)</code>.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Resp</span> render()</pre>
        </td>
        <td>Renders the response in a MVC fashion.<br>
 A custom view renderer must be configured/implemented via the <code>On#render()</code> method.<br>
 A typical renderer will use <code>Resp#view</code> to get the view name, and <code>Resp#model</code> to get the model.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">OutputStream</span> out()</pre>
        </td>
        <td>First renders the response headers, then returns an <i>OutputStream</i> representing
 the <b>response body</b>. The response body will be constructed by writing to the <i>OutputStream</i>.</td>
      </tr>
      <tr>
        <td>
<pre class="code-snippet"><span class="_code_cls">Req</span> request()</pre>
        </td>
        <td>Gets the reference to the <b>request object</b>.</td>
      </tr>
    </table>
  </div>
</div>
</div>

<div id="examplehttpapi-body" class="row">

    <div id="examplehttpapi-left" class="col-md-12">
    </div>

</div>



<div class="row row-separated-micro">
  <div class="col-md-12"></div>
</div>


</div>

<div class="col-md-2">
<div class="toc-right">
    <h3 class="toc-title">Contents:</h3>
    <div class="toc-wrap">
        <a class="toc-link" href="#restful-service-one-liner">RESTful service one-liner</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#web-page-one-liner">Web page one-liner</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#more-control-over-the-http-server-setup">More control over the HTTP server setup</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#http-handlers-and-routing">HTTP handlers and routing</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#all-the-request-data-is-in-the-req-req-parameter">All the request data is in the (Req req) parameter</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#rendering-a-http-response">Rendering a HTTP response</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#high-level-annotation-based-pojo-controllers">High-level annotation-based POJO controllers</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#exception-handlers">Exception handlers</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#mvc-architecture-with-template-engine-of-your-choice-">MVC architecture (with template engine of your choice)</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#manipulating-the-response-content-type">Manipulating the response content type</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#manipulating-the-response-code">Manipulating the response code</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#http-session">HTTP session</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#server-side-session-a-k-a-session-">Server-side session (a.k.a. Session)</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#cookie-persisted-session-a-k-a-cookiepack-">Cookie-persisted session (a.k.a. Cookiepack)</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#request-wrappers-interceptors-">Request wrappers (interceptors)</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#returning-a-not-found-result">Returning a &quot;Not Found&quot; result</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#generic-handlers-match-any-request">Generic handlers match any request</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#asynchronous-request-processing">Asynchronous request processing</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#server-configuration">Server Configuration</a>
    </div>
    <div class="toc-wrap">
        <a class="toc-link" href="#api-documentation">API documentation</a>
    </div>
</div>

</div>

</div>

<div class="row">
    <div class="col-md-12">
        <div class="page-footer">
            Copyright (C) 2014 - 2016 <a rel="nofollow" href="http://www.nikolche.com">Nikolche Mihajlovski</a> and contributors
        </div>
    </div>
</div>


</div> <!-- container -->

<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71483708-1', 'auto');
  ga('send', 'pageview');
</script>

<script async defer>
!function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http'
            : 'https';
    if (!d.getElementById(id)) {
        js = d.createElement(s);
        js.id = id;
        js.src = p + '://platform.twitter.com/widgets.js';
        fjs.parentNode.insertBefore(js, fjs);
    }
}(document, 'script', 'twitter-wjs');
</script>


</body>
</html>